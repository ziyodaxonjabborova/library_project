<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>

  <meta charset="utf-8">
  <title>Todo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
  <!--style-->
  <style>
  .card {

   box-shadow: 0 4px 8px 0 rgba(0,0,0,0.5),
               0 6px 20px 0 rgba(0,0,0,0.39);
   background: DarkOrange;
   margin-bottom : 5%;
   border-radius: 25px;
   padding : 2%;
   overflow: auto;
   resize: both;
   text-overflow: ellipsis;
  }
  .card:hover{
    background: lightblue;
  }

  .submit_form{

    text-align: center;
    padding: 3%;
    background: DarkOrange;
    border-radius: 25px;
    box-shadow: 0 4px 8px 0 rgba(0,0,0,0.4),
                0 6px 20px 0 rgba(0,0,0,0.36);
  }
  </style>

</head>

<body  class="container-fluid">

  <center class="row">
    <h1><i>Kundalik ishlar</i></h1>
    <hr />
  </center>

  <div class="row">

    <div class="col-md-8">
      {% for todo in todos %}
      <div class="card">
        <center><b>{{todo.title.capitalize}}</b></center>
        <hr/>
        Sana: {{ todo.created_at|date:"d-m-Y" }}
        <hr/>
        {{todo.desc|truncatechars:20}}
        <hr/>
        {{todo.get_status_display}}
        <br />
        <a href="/delete/{{todo.id}}/"><button class="btn btn-primary" style="float: right;margin-left:10px;margin-top:10px"><span class="glyphicon glyphicon-trash" style="margin-right: 10px;"></span>O'chirish</button></a>
        <a href="/edit/{{todo.id}}/"><button class="btn btn-primary" style="float: right; margin-top:10px"><span class="glyphicon glyphicon-pencil" style="margin-right: 10px;" ></span>Tahrirlash</button></a>
        <a href="/batafsil/{{todo.id}}/"><button class="btn btn-primary" style="float: left; margin-top:10px"><span class="glyphicon glyphicon-align-justify" style="margin-right: 10px;"></span>Batafsil</button></a>
      </div>
      {% endfor %}
    </div>
    <div class="col-md-1"> </div>
    <div class="col-md-3" >
      <div  class="submit_form">
        <div class="submit_form">
          <form action="/" method="post" style="padding: 10px;">
            {% csrf_token %}
        
            <!-- Title -->
            <input 
              type="text" 
              name="title" 
              class="form-control"
              placeholder="Nomi..."
              style="border-radius: 10px; margin-bottom: 15px;"
              required
            />
        
            <!-- Description -->
            <textarea
              name="desc"
              class="form-control"
              placeholder="Ta'rif..."
              rows="3"
              style="border-radius: 10px; margin-bottom: 15px; resize: none;"
              required
            ></textarea>
        
            <!-- Status select -->
            <select
              name="status"
              class="form-control"
              style="border-radius: 10px; margin-bottom: 15px;"
              required
            >
              <option value="new">üü¢ Yangi</option>
              <option value="in_progress">üü° Jarayonda</option>
              <option value="done">‚úîÔ∏è Bajarilgan</option>
            </select>
        
            <!-- Submit button -->
            <button 
              type="submit" 
              class="btn btn-primary"
              style="width: 100%; border-radius: 10px; font-weight: bold;"
            >
              Topshirish
            </button>
          </form>
        </div>
        
    </div>
  </div>
</div>
</body>

</html>